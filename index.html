<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>t-SNE Step-by-Step Visualization</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
  <link rel="stylesheet" href="/src/styles/main.css">
</head>
<body>
  <div class="app-container">
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay" style="display: none;">
      <div class="loading-content">
        <div class="loading-spinner"></div>
        <p>Computing t-SNE...</p>
      </div>
    </div>
    
    <!-- Header -->
    <header class="app-header">
      <h1>t-SNE Visualization</h1>
      <p class="subtitle">Step-by-Step Exploration of t-Distributed Stochastic Neighbor Embedding</p>
    </header>
    
    <!-- Main Layout -->
    <div class="main-layout">
      <!-- Left Panel: Controls -->
      <aside class="left-panel">
        <div class="panel-section">
          <h3>Mode</h3>
          <div id="mode-buttons" class="mode-buttons"></div>
        </div>
        
        <div class="panel-section">
          <h3>Dataset</h3>
          <div class="control-row">
            <label for="preset-select">Preset:</label>
            <select id="preset-select"></select>
          </div>
        </div>
        
        <div class="panel-section">
          <h3>Parameters</h3>
          <div class="control-row">
            <label for="perplexity-slider">Perplexity: <span id="perplexity-value">30</span></label>
            <input type="range" id="perplexity-slider" min="5" max="100" value="30">
          </div>
          <div class="control-row">
            <label for="lr-slider">Learning Rate: <span id="lr-value">200</span></label>
            <input type="range" id="lr-slider" min="10" max="1000" value="200" step="10">
          </div>
          <div class="control-row">
            <label for="iterations-slider">Iterations: <span id="iterations-value">500</span></label>
            <input type="range" id="iterations-slider" min="100" max="1000" value="500" step="50">
          </div>
        </div>
        
        <div class="panel-section">
          <button id="generate-btn" class="primary-btn">
            üîÑ Generate & Compute
          </button>
        </div>
        
        <div class="panel-section">
          <h3>Point Analysis</h3>
          <div class="control-row">
            <label for="point-selector">Focus on point:</label>
            <select id="point-selector"></select>
          </div>
        </div>
      </aside>
      
      <!-- Center Panel: Visualization & Explanation -->
      <main class="center-panel">
        <!-- Navigation Controls -->
        <div class="nav-controls">
          <button id="prev-step-btn" class="nav-btn" disabled>
            ‚Üê Previous
          </button>
          <span id="step-counter" class="step-counter">Step 1 of 14</span>
          <button id="next-step-btn" class="nav-btn">
            Next ‚Üí
          </button>
        </div>
        
        <!-- Visualization Area -->
        <div id="visualization-area" class="visualization-area">
          <!-- Content dynamically inserted by JS -->
        </div>
        
        <!-- Formula Display -->
        <div id="formula-display" class="formula-display"></div>
        
        <!-- Explanation Area -->
        <div id="explanation-area" class="explanation-area">
          <!-- Content dynamically inserted by JS -->
        </div>
      </main>
      
      <!-- Right Panel: Step List -->
      <aside class="right-panel">
        <h3>Algorithm Steps</h3>
        <p class="panel-hint">Click to jump to any step</p>
        <div id="step-list" class="step-list">
          <!-- Dynamically populated -->
        </div>
      </aside>
    </div>
    
    <!-- Footer -->
    <footer class="app-footer">
      <p>Interactive t-SNE Visualization ‚Ä¢ Use ‚Üê ‚Üí keys to navigate</p>
    </footer>
  </div>
  
  <script type="module" src="/src/main.js"></script>
</body>
</html>
